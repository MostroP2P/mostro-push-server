version: '3.8'

services:
  push-backend:
    build: .
    ports:
      - "8080:8080"
    environment:
      - NOSTR_RELAYS=wss://relay.mostro.network
      - SERVER_HOST=0.0.0.0
      - SERVER_PORT=8080
      - FCM_ENABLED=true
      - UNIFIEDPUSH_ENABLED=true
      - FIREBASE_PROJECT_ID=mostro-test
      - RUST_LOG=info
    volumes:
      - ./firebase-service-account.json:/app/firebase-service-account.json:ro
    restart: unless-stopped
